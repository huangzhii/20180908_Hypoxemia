####################################################################
setwd("/home/zhihuan/Documents/Cong_Feng/20180908_Hypoxemia/Hypoxemia - LSTM/PO2data/PO2数据/")
### Find significant features
data = read.csv("expanded.all.data.merged.imputed.calculated.shrinked.csv", header = T, stringsAsFactors = F)
HYPOXEMIA_CLASS = data$HYPOXEMIA_CLASS
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Normal"] = 0
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Mild"] = 1
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Morderate"] = 2
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Severe"] = 3
HYPOXEMIA_CLASS = data$HYPOXEMIA_CLASS
HYPOXEMIA_CLASS
colnames(data)
aov_res <- aov(formula(paste("CR_prev_6_average", "~ HYPOXEMIA_CLASS")), data = data)
unlist(summary(aov_res))[9]
for(i in colnames(group1)[c(-1,-2,-3,-6,-7,-10,-40)]){
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data)
unlist(summary(aov_res))
}
for(i in colnames(data)[c(-1,-2,-3,-6,-7,-10,-40)]){
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data)
unlist(summary(aov_res))
}
message(unlist(summary(aov_res)))
print(unlist(summary(aov_res)))
print(i)
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data)
colnames(data)
data$GENDER[data$GENDER == "M"] = 0
data$GENDER[data$GENDER == "F"] = 1
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data)
print(i)
print(unlist(summary(aov_res)))
for(i in colnames(data)[c(-1,-2,-3,-6,-7,-10,-40)]){
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data)
print(i)
print(unlist(summary(aov_res)))
}
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Normal"] = 0
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Mild"] = 1
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Morderate"] = 1
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Severe"] = 1
data$GENDER[data$GENDER == "M"] = 0
data$GENDER[data$GENDER == "F"] = 1
for(i in colnames(data)[c(-1,-2,-3,-6,-7,-10,-40)]){
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data)
print(i)
print(unlist(summary(aov_res)))
}
### Find significant features
data = read.csv("expanded.all.data.merged.imputed.calculated.shrinked.csv", header = T, stringsAsFactors = F)
HYPOXEMIA_CLASS = data$HYPOXEMIA_CLASS
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Normal"] = 0
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Mild"] = 1
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Morderate"] = 2
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Severe"] = 3
data$GENDER[data$GENDER == "M"] = 0
data$GENDER[data$GENDER == "F"] = 1
data2 = data[data$HYPOXEMIA_CLASS <= 1, ]
for(i in colnames(data)[c(-1,-2,-3,-6,-7,-10,-40)]){
aov_res <- kruskal.test(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data2)
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data2)
print(i)
print(unlist(summary(aov_res)))
}
for(i in colnames(data)[c(-1,-2,-3,-6,-7,-10,-40)]){
# aov_res <- kruskal.test(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data2)
aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data2)
print(i)
print(unlist(summary(aov_res)))
}
print(i)
aov_res <- kruskal.test(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data2)
# aov_res <- aov(formula(paste(i, "~ HYPOXEMIA_CLASS")), data = data2)
print(unlist(summary(aov_res)))
res = cor(data2, use="complete.obs", method="spearman")
res = cor(t(data2), use="complete.obs", method="spearman")
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
res = cor(t(data3), use="complete.obs", method="spearman")
View(data3)
res = cor(as.data.frame(t(data3)), use="complete.obs", method="spearman")
res = cor(as.numeric(as.data.frame(t(data3[1:10000,]))), use="complete.obs", method="spearman")
as.numeric(as.data.frame(t(data3[1:10000,])))
as.numeric(t(data3[1:10000,]))
res = cor(as.numeric(t(data3[1:10000,])), use="complete.obs", method="spearman")
res = cor(as.numeric(t(data3[1:10000,])), use="complete.obs")
as.numeric(t(data3[1:10000,]))
### Find significant features
data = read.csv("expanded.all.data.merged.imputed.calculated.shrinked.csv", header = T, stringsAsFactors = F)
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Normal"] = 1
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Mild"] = 2
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Morderate"] = 3
data$HYPOXEMIA_CLASS[data$HYPOXEMIA_CLASS == "Severe"] = 4
data$GENDER[data$GENDER == "M"] = 1
data$GENDER[data$GENDER == "F"] = 2
data2 = data[data$HYPOXEMIA_CLASS <= 2, ]
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
res = cor(as.numeric(t(data3[1:10000,])), use="complete.obs")
as.numeric(t(data3[1:10000,]))
res = cor(as.numeric(t(data3[1:10000,])))
data3 = as.numeric(t(data3[1:10000,]))
res = cor(data3)
data3 = as.numeric(t(data3[1:10000,]))
res = cor(data3)
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
data3 = as.numeric(t(data3[1:10000,]))
res = cor(data3)
data3 = as.data.frame(as.numeric(t(data3[1:10000,])))
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
data3 = as.data.frame(as.numeric(t(data3[1:10000,])))
View(data3)
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
data3 = as.data.frame(t(data3[1:10000,]))
res = cor(data3)
data3 = as.numeric(as.data.frame(t(data3[1:10000,])))
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
data3 = as.numeric(as.data.frame(data3[1:10000,]))
data3 = as.data.frame(data3[1:10000,])
res = cor(data3)
View(data3)
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
data4 = as.data.frame(as.numeric(data3[1:10000,]))
data4 = as.numeric(data3[1:10000,])
data3 = data2[, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
data4 = as.numeric(data3[1:10000,])
typeof(data3[1:10000,])
data3 = data2[1:1000, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
res = cor(data3)
data4 = as.numeric(data3)
data4 = as.numeric(data3)
data2 = data[data$HYPOXEMIA_CLASS <= 2, ]
data3 = data2[1:1000, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
typeof(data2)
typeof(data)
data4 = data.frame(data3)
View(data4)
typeof(data4)
res = cor(data4)
data4 = data.frame(unlist(data3))
typeof(data4)
data2 = data[data$HYPOXEMIA_CLASS <= 2, ]
data3 = data2[1:10000, c("AGE","GENDER","K","NA.","HOURS","HYPOXEMIA_CLASS")]
data4 = data.frame(unlist(data3))
res = cor(data4)
data4 = data.frame(data3)
res = cor(data4)
data4
res = cor(data4)
res = cor(data4, use="pairwise.complete.obs")
data4 = as.numeric(data3)
data4 = as.numeric(unlist(data3))
typeof(data4)
View(data3)
data4 = as.data.frame(as.numeric(unlist(data3)))
View(data4)
data4 = matrix(data4, ncol = 6, byrow = TRUE)
data4 = as.data.frame(as.numeric(unlist(data3)))
data4 = data.frame(matrix(data4, ncol = 6, byrow = TRUE))
View(data4)
data4 = as.data.frame(as.numeric(unlist(data3)))
data4 = data.frame(matrix(data4, ncol = 6))
